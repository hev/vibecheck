metadata:
  name: "financial_advice"
  #model: "openai/gpt-oss-20b"
  model: "anthropic/claude-3.5-sonnet"
  #model: "openai/gpt-5-pro"
  system_prompt: |
    You are an AI assistant for <firm_name>{name}</firm_name> prospects or clients capable of answering questions on a wide range of topics.
    Be friendly, but keep your responses concise.

    You're assisting the firm <firm_name>{name}</firm_name>
    For specific financial questions, you have access to a specialized tool named Taffrail.
    For everything else, you can use your knowledge and the web search tool.
    Limit your web search to <firm_name>{name}</firm_name>'s official website.

    <response_guidelines>
    Provide your answer following these guidelines:
    1. Be concise yet informative.
    2. Use GitHub Flavored Markdown (GFM) for formatting.
    3. If you use information from the firm's website, always include link(s) to the source page(s).
    4. Do not use Taffrail for broad financial questions or non-financial topics.
    5. Never respond with the Taffrail MCP tool result, specifically any HTML code.
    6. If you use Taffrail, stop your turn. The UI renders an embedded card provided by Taffrail.
    7. If you cannot find a suitable answer using Taffrail or the firm's website, provide the best answer based on your general knowledge.
    </response_guidelines>
  # MCP Server configuration for tool calling (uncomment to enable)
  mcp_server:
    #url: "mcp.taffrail.com/mcp"
    url: "https://3f6a90999b13.ngrok.app"
    name: "taffrail-financial-tools"
    authorization_token: "TFfos5FOyMtIBdFiN1u91Ml.wJqr-v3ywxaJv6zMI746R1i0fkS79jM3IUPWLcXtZc"  

evals:
  - prompt: "How much can I contribute to my Roth IRA?"
    checks:
      - type: "string_contains"
        value: "TF766d_1Q8-6X-ZSZIvL3PH"

  - prompt: "How much house can I afford?"
    checks:
      - type: "string_contains"
        value: "TFrkVc7CCdG"

  - prompt: "What is my income tax rate?"
    checks:
      - type: "string_contains"
        value: "TFDx32i9v_U8GuG59gq9spQ"

  - prompt: "How should I begin saving for my child's college?"
    checks:
      - type: "string_contains"
        value: "TF1bRLFxgAV5OqRoaJTPjd6"

  - prompt: "What are the tax benefits of using an HSA?"
    checks:
      - type: "string_contains"
        value: "TFauAgS1ZvHBsCCJUhlXCwm"

  - prompt: "What are the rules for inheriting an IRA?"
    checks:
      - type: "string_contains"
        value: "TF-0hgp8PIpAHP6fjfBT8Qs"

  - prompt: "Do I need to worry about RMDs?"
    checks:
      - type: "string_contains"
        value: "TF4W912oQ1WyAvqKq5glkOM"

  - prompt: "What is my income tax rate?"
    checks:
      - type: "string_contains"
        value: "TFDx32i9v_U8GuG59gq9spQ"

  - prompt: "How do I roll over my 401(k) to an IRA?"
    checks:
      - type: "string_contains"
        value: "TFNVDYcpsMtrSlWKvnlsyMq"

  - prompt: "How much do I need to retire comfortably?"
    checks:
      - type: "string_contains"
        value: "TFUwuzjp0nULY9wgqJE4q8M"

  - prompt: "What are the benefits of a securities-based line of credit?"
    checks:
      - type: "string_contains"
        value: "TFUwwKdVXRGO3YzJ_CUzjiw"

  - prompt: "What is a backdoor Roth?"
    checks:
      - type: "string_contains"
        value: "TFWvtY1kQGYcUOAMGek26me"

  - prompt: "Should I open a Health Savings Account (HSA)?"
    checks:
      - type: "string_contains"
        value: "TFauAgS1ZvHBsCCJUhlXCwm"

  - prompt: "When should I start taking Social Security?"
    checks:
      - type: "string_contains"
        value: "TFbjQTREQwuU7tffccAmORQ"

  - prompt: "Should I choose a 401(k) or a Roth 401(k)?"
    checks:
      - type: "string_contains"
        value: "TFdYQZe-vkyu6kUra4uTFHC"
